---
- include: common.yml
- include: controller.yml
- include: compute.yml
- include: network.yml

- name: Install Percona Xtradb and Configure Quorum
  hosts: xtradbhosts
  user: root
  tasks:
    - include: xtradb/roles/percona/tasks/main.yml

- name: Bootstrap Primary Quorum Node
  hosts: xtradbhosts[0]
  user: root
  tasks:
   - include: xtradb/roles/percona/tasks/bootstrap.yml

- name: Start XtraDB On Secondary Nodes
  hosts: xtradbhosts[1-2]
  user: root
  tasks:
  - include: xtradb/roles/percona/tasks/start.yml
