# Send everything to a syslog receiver named '{{ common.rsyslog.forward.host }}' on port {{ common.rsyslog.forward.port }} over TCP:
$ActionForwardDefaultTemplate RSYSLOG_TraditionalForwardFormat

{% if common.rsyslog.forward.tls.enabled %}
# certificate files - just CA for a client
$DefaultNetstreamDriverCAFile /usr/share/ca-certificates/rsyslog/forward.crt

# set up the action
# Reference: http://www.rsyslog.com/doc/ns_gtls.html
$DefaultNetstreamDriver gtls # use gtls netstream driver
$ActionSendStreamDriverMode 1 # require TLS for the connection
$ActionSendStreamDriverAuthMode {{ common.rsyslog.forward.tls.authmode }}
{% endif %}

*.* @@{{ common.rsyslog.forward.host }}:{{ common.rsyslog.forward.port }}
